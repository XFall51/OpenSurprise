<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Open the Envelope</title>
<style>
    body {
        margin: 0;
        font-family: 'Segoe UI', sans-serif;
        background: black;
        overflow: hidden;
        position: relative;
        color: white;
    }

    /* Floating hearts */
    .heart {
        position: absolute;
        color: gold;
        opacity: 0.8;
        animation: floatUp linear infinite;
        filter: drop-shadow(0 0 8px gold);
        font-size: 20px;
    }

    @keyframes floatUp {
        0% { transform: translateY(100vh) scale(1); opacity: 0.8; }
        50% { opacity: 1; }
        100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
    }

    #introStage, #appStage {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
        z-index: 2;
        position: relative;
    }

    .envelope {
        width: 200px;
        height: 150px;
        background: #fff;
        border: 2px solid #ccc;
        border-radius: 5px;
        position: relative;
        cursor: pointer;
    }
    .envelope::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        border-left: 100px solid transparent;
        border-right: 100px solid transparent;
        border-bottom: 75px solid #ffcccc;
    }
    .btn {
        margin-top: 20px;
        padding: 10px 20px;
        background: gold;
        border: none;
        border-radius: 20px;
        color: black;
        font-size: 16px;
        cursor: pointer;
        transition: background 0.3s;
        font-weight: bold;
    }
    .btn:hover { background: #ffd700; }

    /* Card layout */
    .card {
        display: flex;
        width: 90%;
        max-width: 1000px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        overflow: hidden;
        position: relative;
    }
    .card-left {
        flex: 1;
        padding: 20px;
        background: #222;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: gold;
    }
    .card-right {
        flex: 2;
        perspective: 1000px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: #111;
    }
    .leaf {
        width: 100%;
        max-width: 400px;
        height: 500px;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.8s;
        cursor: pointer;
    }
    .leaf.flipped { transform: rotateY(180deg); }
    .page-front, .page-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .page-front {
        background-size: cover;
        background-position: center;
    }
    .page-back {
        background: #222;
        color: gold;
        transform: rotateY(180deg);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        font-size: 18px;
        text-align: center;
        box-shadow: 0 0 15px gold inset;
    }
    .controls {
        margin-top: 20px;
        display: flex;
        gap: 20px;
    }
    .ctrl {
        background: gold;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        color: black;
        font-weight: bold;
    }
    .ctrl:hover { background: #ffd700; }

    /* Letter Section */
    .letter-section {
        margin-top: 30px;
        background: rgba(34, 34, 34, 0.9);
        color: gold;
        padding: 20px;
        max-width: 800px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(255,215,0,0.5);
        max-height: 300px;
        overflow-y: auto;
        font-size: 18px;
        line-height: 1.6;
        text-align: center;
    }
</style>
</head>
<body>

<!-- Floating hearts -->
<div id="hearts-container"></div>

<!-- Intro -->
<div id="introStage">
    <div class="envelope"></div>
    <button class="btn" id="openEnvelope">Open Me</button>
</div>

<!-- App -->
<div id="appStage" style="display:none; flex-direction:column;">
    <div class="card">
        <div class="card-left">
            <h1>For You ❤️</h1>
            <button class="ctrl" id="muteBtn">Mute Music</button>
        </div>
        <div class="card-right">
            <div class="leaf" tabindex="0">
                <div class="page-front"></div>
                <div class="page-back"></div>
            </div>
            <div class="controls">
                <button class="ctrl" id="prevBtn">Prev</button>
                <button class="ctrl" id="nextBtn">Next</button>
            </div>
        </div>
    </div>

    <!-- Letter Section -->
    <div class="letter-section" id="loveLetter">
       Hi You, We met as strangers online, pero bakit parang every message mo feels like home?
       Your words make me smile, your laugh stays in my head, and now I’m here,
       lowkey wishing na from chat bubbles… magiging holding hands na tayo in real life. ❤️

— (An Admirer from Afar). ❤️
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="Tibok - Earl Agustin (AshBin Version Music Video).mp3" type="audio/mpeg">
</audio>

<script>
    const openBtn = document.getElementById('openEnvelope');
    const intro = document.getElementById('introStage');
    const app = document.getElementById('appStage');
    const leaf = document.querySelector('.leaf');
    const pageFront = document.querySelector('.page-front');
    const pageBack = document.querySelector('.page-back');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const muteBtn = document.getElementById('muteBtn');
    const bgMusic = document.getElementById('bgMusic');
    const heartsContainer = document.getElementById('hearts-container');

    const photos = ["picture5.jpg", "picture4.jpg", "picture6.jpg"];
    const poems = [
        "Sa Yakap ng Hapon Sa dapithapon, ginuguhit ng araw ang gintong sinag sa iyong mga balikat. Ang hangin, humahaplos ng banayad, parang lihim na awit ng pag-ibig. Sa likod mo’y dagat at kalikasan, ngunit sa mata ko, ikaw ang tanawin. At sa bawat tibok ng puso kong payapa, ang pangalan mo ang awit ng hapon. ❤️",
        "Ikaw sa Gitna ng Lungsod In the middle of all these tall buildings, ikaw yung pinaka-tower na gusto kong marating. Sa gitna ng ingay, traffic, and city rush, ikaw yung peace of mind ko. The way you smile, parang sinasalo mo lahat ng araw, tapos ibinabalik sa’kin as warmth. And here I am, finding home sa mga mata mo kahit surrounded by strangers",
        "Bulaklak at Ngiti That yellow flower sa hair mo is cute, pero honestly, wala siyang laban sa ganda ng smile mo. Your smile feels like morning sunshine, yung tipong kahit gloomy ang day ko, pag nakita ko lang ‘yon, biglang bloom ulit yung mundo ko"




    ];

    let currentPage = 0;

    function updatePage() {
        pageFront.style.backgroundImage = `url(${photos[currentPage]})`;
        pageBack.textContent = poems[currentPage];
        leaf.classList.remove('flipped');
    }

    function flipPage() { leaf.classList.toggle('flipped'); }
    function showNext() { currentPage = (currentPage + 1) % photos.length; updatePage(); }
    function showPrev() { currentPage = (currentPage - 1 + photos.length) % photos.length; updatePage(); }

    openBtn.addEventListener('click', () => {
        intro.style.display = 'none';
        app.style.display = 'flex';
        bgMusic.play();
        updatePage();
    });

    leaf.addEventListener('click', flipPage);
    leaf.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') flipPage(); });
    nextBtn.addEventListener('click', showNext);
    prevBtn.addEventListener('click', showPrev);

    muteBtn.addEventListener('click', () => {
        bgMusic.muted = !bgMusic.muted;
        muteBtn.textContent = bgMusic.muted ? "Unmute Music" : "Mute Music";
    });

    // Floating hearts
    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.textContent = "❤";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (Math.random() * 20 + 15) + "px";
        heart.style.animationDuration = (Math.random() * 5 + 4) + "s";
        heartsContainer.appendChild(heart);
        setTimeout(() => heart.remove(), 9000);
    }
    setInterval(createHeart, 400);
</script>

</body>
</html>
